<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YOLOv8 Segmentation Web App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a202c; /* Dark background */
            color: #e2e8f0; /* Light text */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh; /* Ensure body takes full viewport height */
            margin: 0;
            padding: 1rem; /* Add some padding to the body for breathing room */
            box-sizing: border-box; /* Include padding in element's total width and height */
            overflow: hidden; /* Prevent body scrollbar if container slightly overflows due to calc rounding */
        }
        .container {
            background-color: #2d3748; /* Slightly lighter dark background for container */
            border-radius: 1rem; /* Rounded corners */
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.5); /* Darker shadow */
            padding: 2rem;
            text-align: center;
            max-width: 90vw; /* Responsive width */
            width: 800px; /* A desirable maximum width */
            height: calc(100vh - 2rem); /* Take full body height minus its padding */
            display: flex;
            flex-direction: column; /* Stack children vertically */
            align-items: center; /* Center horizontally */
            overflow: hidden; /* Hide any content overflowing the container (like image if aspect ratio is too wide) */
        }
        h1 {
            color: #63b3ed; /* Blueish header */
            margin-bottom: 1.5rem;
            font-size: 2.25rem; /* Larger font */
            font-weight: 700;
            flex-shrink: 0; /* Prevent header from shrinking */
        }
        p {
            margin-bottom: 1.5rem; /* Maintain spacing for paragraph */
            flex-shrink: 0; /* Prevent paragraph from shrinking */
        }
        img {
            border-radius: 0.75rem; /* Rounded corners for image */
            border: 2px solid #4a5568; /* Subtle border */
            width: 100%; /* Make image responsive to container width */
            flex-grow: 1; /* Allow image to grow and take available vertical space */
            flex-shrink: 1; /* Allow image to shrink if needed */
            min-height: 0; /* Very important for flex items to shrink properly */
            object-fit: contain; /* Ensures the entire image is visible within its bounds */
            display: block;
            margin: 0 auto;
        }
        .message-box {
            background-color: #4a5568;
            color: #cbd5e0;
            padding: 1rem;
            border-radius: 0.5rem;
            margin-top: 1.5rem;
            font-size: 0.9rem;
            flex-shrink: 0; /* Prevent it from shrinking */
            width: 100%; /* Ensure it spans the width */
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>YOLOv8 Segmentation Live Stream</h1>
        <p class="text-gray-400 mb-4">
            Viewing real-time webcam feed with YOLOv8 segmentation predictions.
        </p>
        <img src="{{ url_for('video_feed') }}" alt="Webcam Feed with YOLOv8 Predictions">
        <div class="message-box">
            <p>If the video stream does not appear, please ensure your webcam is connected and not in use by another application. Also, check the console for any error messages related to model loading or camera initialization.</p>
        </div>
    </div>
</body>
</html>